链表是一种物理[存储单元](https://baike.baidu.com/item/存储单元/8727749)上非连续、非顺序的[存储结构](https://baike.baidu.com/item/存储结构/350782)，[数据元素](https://baike.baidu.com/item/数据元素/715313)的逻辑顺序是通过链表中的[指针](https://baike.baidu.com/item/指针/2878304)链接次序实现的。链表由一系列结点（链表中每一个元素称为结点）组成，结点可以在运行时动态生成。每个结点包括两个部分：一个是存储[数据元素](https://baike.baidu.com/item/数据元素)的数据域，另一个是存储下一个结点地址的[指针](https://baike.baidu.com/item/指针/2878304)域。 相比于[线性表](https://baike.baidu.com/item/线性表/3228081)[顺序结构](https://baike.baidu.com/item/顺序结构/9845234)，操作复杂。由于不必须按顺序存储，链表在插入的时候可以达到O(1)的复杂度，比另一种线性表顺序表快得多，但是查找一个节点或者访问特定编号的节点则需要O(n)的时间，而线性表和顺序表相应的时间复杂度分别是O(logn)和O(1)。

线性的顺序存储数据，而是在每一个节点里存到下一个节点的指针(Pointer)。由于不必须按顺序存储，链表的插入和删除操作可以达到O(1)的复杂度。本文将讲解单向链表和双向链表，其中双向链表会给出部分关键代码实现。

## 1、单向链表

单向链表(单链表)是链表的一种，它由节点组成，每个节点都包含下一个节点的指针，下图就是一个单链表，表头为空，表头的后继节点是"结点10"(数据为10的结点)，"节点10"的后继结点是"节点20"(数据为10的结点)，...

![img](https://img.yluchao.cn/typora/0b4463bee2be80e93ed7131c03f25c46.jpeg)

## 2、单链表删除节点

我们看看单链表删除节点的操作，比如说下面这个单链表中我们要删除"节点30"。

**删除之前**："节点20" 的后继节点为"节点30"，而"节点30" 的后继节点为"节点40"。

**删除之后**："节点20" 的后继节点为"节点40"。

![img](https://img.yluchao.cn/typora/b3c79c5bd91d29ca3e16c5a945759d50.jpeg)

## 3、单链表添加节点

我们再来看看单链表添加节点的操作，比如说下面这个单链表中我们在"节点10"与"节点20"之间添加"节点15"

**添加之前**："节点10" 的后继节点为"节点20"。

**添加之后**："节点10" 的后继节点为"节点15"，而"节点15" 的后继节点为"节点20"。

![img](https://img.yluchao.cn/typora/76ac871414fd950937da063935600c6d.jpeg)

## 4、双向链表

双向链表(双链表)是链表的一种。和单链表一样，双链表也是由节点组成，它的每个数据结点中都有两个指针，分别指向直接后继和直接前驱。所以，从双向链表中的任意一个结点开始，都可以很方便地访问它的前驱结点和后继结点。一般我们都构造双向循环链表。

双链表的示意图如下：

![img](https://img.yluchao.cn/typora/87af7ad6e71b70fc0d2791f210b260a6.jpeg)

表头为空，表头的后继节点为"节点10"(数据为10的节点)；"节点10"的后继节点是"节点20"(数据为10的节点)，"节点20"的前继节点是"节点10"；"节点20"的后继节点是"节点30"，"节点30"的前继节点是"节点20"；...；末尾节点的后继节点是表头。

不难看出，双向链表的节点定义可以用一个下面的结构体表示：

```cpp
//双向链表节点结构
typedef struct dlink_node
{
    struct dlink_node *prev;
    struct dlink_node *next;
    void *val;  //能存储任意类型数据
}node;
```

## 5、双向链表删除节点

我们看看双向链表删除节点的操作，比如说下面这个单链表中我们要删除"节点30"。

**删除之前**："节点20"的后继节点为"节点30"，"节点30" 的前继节点为"节点20"。"节点30"的后继节点为"节点40"，"节点40" 的前继节点为"节点30"。

**删除之后**："节点20"的后继节点为"节点40"，"节点40" 的前继节点为"节点20"。

![img](https://img.yluchao.cn/typora/623bef977cad9c2df0126c18e0839bdd.jpeg)

双向链表删除节点的关键代码如下：

```cpp
//删除节点pindex
pindex->next->prev = pindex->prev;
pindex->prev->next = pindex->next;
free(pindex); //注意释放节点
```

## 6、双向链表添加节点

我们再来看看双向链表添加节点的操作，比如说下面这个双向链表在"节点10"与"节点20"之间添加"节点15"

**添加之前**："节点10"的后继节点为"节点20"，"节点20" 的前继节点为"节点10"。

**添加之后**："节点10"的后继节点为"节点15"，"节点15" 的前继节点为"节点10"。"节点15"的后继节点为"节点20"，"节点20" 的前继节点为"节点15"。

![img](https://img.yluchao.cn/typora/2fb6d9777e3fc5a294c4631487e98985.jpeg)

双向链表添加节点的关键代码如下：

```cpp
//将pnode节点插入到pindex之前
pnode->prev = pindex->prev;
pnode->next = pindex;
pindex->prev->next = pnode;
pindex->prev = pnode;
```