TOP是一个动态显示过程，如果在前台执行该命令,它将独占前台,直到用户终止该程序为止。

![image-20210218155000459](http://img.yluchao.cn/typora/acaf5dd61fe215cdb8708e4714579fb5.png)

## 一、TOP前五行统计信息

### 1. 第一行是任务队列信息

同 uptime 命令的执行结果:

```shell
www@LAPTOP-B2H1PH69:/data/www/htdocs$ uptime
15:52:30 up 7 min,  0 users,  load average: 0.00, 0.00, 0.00
```

其内容如下：

| 12:38:33                       | 当前时间                                                     |
| ------------------------------ | ------------------------------------------------------------ |
| up 50days                      | 系统运行时间，格式为时:分                                    |
| 1 user                         | 当前登录用户数                                               |
| load average: 0.06, 0.60, 0.48 | 系统负载，即任务队列的平均长度。 三个数值分别为 1分钟、5分钟、15分钟前到现在的平均值。 |

### 2. 第二、三行为进程和CPU的信息

当有多个CPU时，这些内容可能会超过两行。内容如下：

| 内容         | 含义                                          |
| :----------- | :-------------------------------------------- |
| 159 total    | 进程总数                                      |
| 1 running    | 正在运行的进程数                              |
| 158 sleeping | 睡眠的进程数                                  |
| 0 stopped    | 停止的进程数                                  |
| 0 zombie     | 僵尸进程数                                    |
| 37.0 us      | 用户空间占用CPU百分比                         |
| 3.7 sy       | 内核空间占用CPU百分比                         |
| **0.0 ni**   | 用户进程空间内改变过优先级的进程占用CPU百分比 |
| 59.3 id      | 空闲CPU百分比                                 |
| 0.0 wa       | 等待输入输出的CPU时间百分比                   |
| **0.0 hi**   | 硬中断（Hardware IRQ）占用CPU的百分比         |
| **0.0 si**   | 软中断（Software Interrupts）占用CPU的百分比  |
| **0.0 st**   |                                               |

### 3. 第四五行为内存信息

| 内容                        | 含义                                   |
| :-------------------------- | :------------------------------------- |
| KiB Mem: 1530752 total      | 物理内存总量                           |
| 1481968 used                | 使用的物理内存总量                     |
| 48784 free                  | 空闲内存总量                           |
| 70988 buffers（buff/cache） | 用作内核缓存的内存量                   |
| KiB Swap: 3905532 total     | 交换区总量                             |
| 267544 used                 | 使用的交换区总量                       |
| 3637988 free                | 空闲交换区总量                         |
| 617312 cached Mem           | 缓冲的交换区总量。                     |
| 3156100 avail Mem           | 代表可用于进程下一次分配的物理内存数量 |

## 二、进程信息

| 列名    | 含义                                                         |
| ------- | ------------------------------------------------------------ |
| PID     | 进程id                                                       |
| PPID    | 父进程id                                                     |
| RUSER   | Real user name                                               |
| UID     | 进程所有者的用户id                                           |
| USER    | 进程所有者的用户名                                           |
| GROUP   | 进程所有者的组名                                             |
| TTY     | 启动进程的终端名。不是从终端启动的进程则显示为 ?             |
| PR      | 优先级                                                       |
| NI      | nice值。负值表示高优先级，正值表示低优先级                   |
| P       | 最后使用的CPU，仅在多CPU环境下有意义                         |
| %CPU    | 上次更新到现在的CPU时间占用百分比                            |
| TIME    | 进程使用的CPU时间总计，单位秒                                |
| TIME+   | 进程使用的CPU时间总计，单位1/100秒                           |
| %MEM    | 进程使用的物理内存百分比                                     |
| VIRT    | 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES                |
| SWAP    | 进程使用的虚拟内存中，被换出的大小，单位kb。                 |
| RES     | 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA    |
| CODE    | 可执行代码占用的物理内存大小，单位kb                         |
| DATA    | 可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb    |
| SHR     | 共享内存大小，单位kb                                         |
| nFLT    | 页面错误次数                                                 |
| nDRT    | 最后一次写入到现在，被修改过的页面数。                       |
| S       | 进程状态。         D=不可中断的睡眠状态         R=运行         S=睡眠         T=跟踪/停止         Z=僵尸进程 |
| COMMAND | 命令名/命令行                                                |
| WCHAN   | 若该进程在睡眠，则显示睡眠中的系统函数名                     |
| Flags   | 任务标志，参考 sched.h                                       |